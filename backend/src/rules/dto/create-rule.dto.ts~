import {
    IsString,
    IsUUID,
    IsInt,
    Min,
    Max,
    IsBoolean,
    Matches
} from 'class-validator';

export class CreateRuleDto {
    @IsString()
    name: string;

    @IsUUID()
    offerId: string;

    @IsString()
    offerName: string;

    @IsInt()
    @Min(1)
    periodMinutes: number;

    @IsInt()
    @Min(0)
    minInterval: number;

    @IsInt()
    @Min(0)
    maxInterval: number;

    @IsInt()
    @Min(1)
    dailyLimit: number;

    @Matches(/^\d{2}:\d{2}$/, {
        message: 'sendWindowStart must be in format HH:MM',
    })
    sendWindowStart: string;

    @Matches(/^\d{2}:\d{2}$/, {
        message: 'sendWindowEnd must be in format HH:MM',
    })
    sendWindowEnd: string;

    @IsBoolean()
    isActive: boolean;
}
